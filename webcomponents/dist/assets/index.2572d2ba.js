(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function l(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=l(n);fetch(n.href,r)}})();function M(){}function Q(t){return t()}function Y(){return Object.create(null)}function T(t){t.forEach(Q)}function ue(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let F;function A(t,e){return F||(F=document.createElement("a")),F.href=e,t===F.href}function ge(t){return Object.keys(t).length===0}function d(t,e){t.appendChild(e)}function v(t,e,l){t.insertBefore(e,l||null)}function y(t){t.parentNode.removeChild(t)}function de(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function z(){return S(" ")}function be(){return S("")}function s(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function _e(t){return Array.from(t.childNodes)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e,l){t.classList[l?"add":"remove"](e)}function pe(t){const e={};for(const l of t)e[l.name]=l.value;return e}let I;function O(t){I=t}function ke(){if(!I)throw new Error("Function called outside component initialization");return I}function ve(t){ke().$$.on_mount.push(t)}const C=[],Z=[],D=[],ee=[],ye=Promise.resolve();let G=!1;function xe(){G||(G=!0,ye.then(k))}function J(t){D.push(t)}const V=new Set;let R=0;function k(){const t=I;do{for(;R<C.length;){const e=C[R];R++,O(e),we(e.$$)}for(O(null),C.length=0,R=0;Z.length;)Z.pop()();for(let e=0;e<D.length;e+=1){const l=D[e];V.has(l)||(V.add(l),l())}D.length=0}while(C.length);for(;ee.length;)ee.pop()();G=!1,V.clear(),O(t)}function we(t){if(t.fragment!==null){t.update(),T(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}const Ee=new Set;function Se(t,e){t&&t.i&&(Ee.delete(t),t.i(e))}function ze(t,e,l,i){const{fragment:n,on_mount:r,on_destroy:o,after_update:f}=t.$$;n&&n.m(e,l),i||J(()=>{const a=r.map(Q).filter(ue);o?o.push(...a):T(a),t.$$.on_mount=[]}),f.forEach(J)}function je(t,e){const l=t.$$;l.fragment!==null&&(T(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Ne(t,e){t.$$.dirty[0]===-1&&(C.push(t),xe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Le(t,e,l,i,n,r,o,f=[-1]){const a=I;O(t);const c=t.$$={fragment:null,ctx:null,props:r,update:M,not_equal:n,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Y(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let x=!1;if(c.ctx=l?l(t,e.props||{},(g,p,...j)=>{const w=j.length?j[0]:p;return c.ctx&&n(c.ctx[g],c.ctx[g]=w)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](w),x&&Ne(t,g)),p}):[],c.update(),x=!0,T(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const g=_e(e.target);c.fragment&&c.fragment.l(g),g.forEach(y)}else c.fragment&&c.fragment.c();e.intro&&Se(t.$$.fragment),ze(t,e.target,e.anchor,e.customElement),k()}O(a)}let he;typeof HTMLElement=="function"&&(he=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(Q).filter(ue);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,l){this[t]=l}disconnectedCallback(){T(this.$$.on_disconnect)}$destroy(){je(this,1),this.$destroy=M}$on(t,e){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(e),()=>{const i=l.indexOf(e);i!==-1&&l.splice(i,1)}}$set(t){this.$$set&&!ge(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});function U(t,e="long"){const l=e==="long"?{weekday:"long",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}:{hour:"2-digit",minute:"2-digit"};return new Date(t*1e3).toLocaleString(void 0,l)}function te(t){return t.multidate?U(t.start_datetime)+" - "+U(t.end_datetime):U(t.start_datetime)+(t.end_datetime?"-"+U(t.end_datetime,"short"):"")}function le(t,e,l){const i=t.slice();return i[12]=e[l],i}function ie(t,e,l){const i=t.slice();return i[15]=e[l],i}function ne(t){let e;return{c(){e=m("link"),s(e,"rel","stylesheet"),s(e,"href",t[4])},m(l,i){v(l,e,i)},p(l,i){i&16&&s(e,"href",l[4])},d(l){l&&y(e)}}}function re(t){let e,l,i=t[1]&&t[3]==="true"&&oe(t),n=t[5],r=[];for(let o=0;o<n.length;o+=1)r[o]=fe(le(t,n,o));return{c(){e=m("div"),i&&i.c(),l=z();for(let o=0;o<r.length;o+=1)r[o].c();s(e,"id","blobShare"),L(e,"dark",t[2]==="dark"),L(e,"light",t[2]==="light"),L(e,"sidebar",t[3]==="true"),L(e,"nosidebar",t[3]!=="true")},m(o,f){v(o,e,f),i&&i.m(e,null),d(e,l);for(let a=0;a<r.length;a+=1)r[a].m(e,null)},p(o,f){if(o[1]&&o[3]==="true"?i?i.p(o,f):(i=oe(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),f&41){n=o[5];let a;for(a=0;a<n.length;a+=1){const c=le(o,n,a);r[a]?r[a].p(c,f):(r[a]=fe(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}f&4&&L(e,"dark",o[2]==="dark"),f&4&&L(e,"light",o[2]==="light"),f&8&&L(e,"sidebar",o[3]==="true"),f&8&&L(e,"nosidebar",o[3]!=="true")},d(o){o&&y(e),i&&i.d(),de(r,o)}}}function oe(t){let e,l,i,n,r,o,f;return{c(){e=m("a"),l=m("div"),i=m("div"),n=S(t[1]),r=z(),o=m("img"),s(i,"class","title"),s(o,"id","logo"),s(o,"alt","logo"),A(o.src,f=t[0]+"/logo.png")||s(o,"src",f),s(l,"class","content"),s(e,"href",t[0]),s(e,"target","_blank"),s(e,"id","header")},m(a,c){v(a,e,c),d(e,l),d(l,i),d(i,n),d(l,r),d(l,o)},p(a,c){c&2&&$(n,a[1]),c&1&&!A(o.src,f=a[0]+"/logo.png")&&s(o,"src",f),c&1&&s(e,"href",a[0])},d(a){a&&y(e)}}}function ae(t){let e;function l(r,o){return r[12].media.length?Ae:$e}let i=l(t),n=i(t);return{c(){e=m("div"),n.c(),s(e,"class","img")},m(r,o){v(r,e,o),n.m(e,null)},p(r,o){i===(i=l(r))&&n?n.p(r,o):(n.d(1),n=i(r),n&&(n.c(),n.m(e,null)))},d(r){r&&y(e),n.d()}}}function $e(t){let e,l,i;return{c(){e=m("img"),s(e,"style","aspect-ratio=1.7778;"),s(e,"alt",l=t[12].title),A(e.src,i=t[0]+"/noimg.svg")||s(e,"src",i),s(e,"loading","lazy")},m(n,r){v(n,e,r)},p(n,r){r&32&&l!==(l=n[12].title)&&s(e,"alt",l),r&1&&!A(e.src,i=n[0]+"/noimg.svg")&&s(e,"src",i)},d(n){n&&y(e)}}}function Ae(t){let e,l,i;return{c(){e=m("img"),s(e,"alt",l=t[12].media[0].name),A(e.src,i=t[0]+"/media/thumb/"+t[12].media[0].url)||s(e,"src",i),s(e,"loading","lazy")},m(n,r){v(n,e,r)},p(n,r){r&32&&l!==(l=n[12].media[0].name)&&s(e,"alt",l),r&33&&!A(e.src,i=n[0]+"/media/thumb/"+n[12].media[0].url)&&s(e,"src",i)},d(n){n&&y(e)}}}function se(t){let e,l=t[12].tags,i=[];for(let n=0;n<l.length;n+=1)i[n]=ce(ie(t,l,n));return{c(){e=m("div");for(let n=0;n<i.length;n+=1)i[n].c();s(e,"class","tags")},m(n,r){v(n,e,r);for(let o=0;o<i.length;o+=1)i[o].m(e,null)},p(n,r){if(r&32){l=n[12].tags;let o;for(o=0;o<l.length;o+=1){const f=ie(n,l,o);i[o]?i[o].p(f,r):(i[o]=ce(f),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(n){n&&y(e),de(i,n)}}}function ce(t){let e,l,i=t[15]+"",n;return{c(){e=m("span"),l=S("#"),n=S(i),s(e,"class","tag")},m(r,o){v(r,e,o),d(e,l),d(e,n)},p(r,o){o&32&&i!==(i=r[15]+"")&&$(n,i)},d(r){r&&y(e)}}}function fe(t){let e,l,i,n,r=te(t[12])+"",o,f,a,c=t[12].title+"",x,g,p,j,w=t[12].place.name+"",u,N,B,H=t[12].place.address+"",K,W,X,P,q,b=t[3]!=="true"&&ae(t),_=t[12].tags.length&&se(t);return{c(){e=m("a"),b&&b.c(),l=z(),i=m("div"),n=m("div"),o=S(r),f=z(),a=m("div"),x=S(c),g=z(),p=m("span"),j=S("@"),u=S(w),N=z(),B=m("span"),K=S(H),W=z(),_&&_.c(),X=z(),s(n,"class","subtitle"),s(a,"class","title"),s(B,"class","subtitle"),s(p,"class","place"),s(i,"class","content"),s(e,"href",P=t[0]+"/item/"+(t[12].slug||t[12].id)),s(e,"class","item"),s(e,"title",q=t[12].title),s(e,"target","_blank")},m(h,E){v(h,e,E),b&&b.m(e,null),d(e,l),d(e,i),d(i,n),d(n,o),d(i,f),d(i,a),d(a,x),d(i,g),d(i,p),d(p,j),d(p,u),d(p,N),d(p,B),d(B,K),d(i,W),_&&_.m(i,null),d(e,X)},p(h,E){h[3]!=="true"?b?b.p(h,E):(b=ae(h),b.c(),b.m(e,l)):b&&(b.d(1),b=null),E&32&&r!==(r=te(h[12])+"")&&$(o,r),E&32&&c!==(c=h[12].title+"")&&$(x,c),E&32&&w!==(w=h[12].place.name+"")&&$(u,w),E&32&&H!==(H=h[12].place.address+"")&&$(K,H),h[12].tags.length?_?_.p(h,E):(_=se(h),_.c(),_.m(i,null)):_&&(_.d(1),_=null),E&33&&P!==(P=h[0]+"/item/"+(h[12].slug||h[12].id))&&s(e,"href",P),E&32&&q!==(q=h[12].title)&&s(e,"title",q)},d(h){h&&y(e),b&&b.d(),_&&_.d()}}}function Ce(t){let e,l,i=t[4]&&ne(t),n=t[5].length&&re(t);return{c(){i&&i.c(),e=z(),n&&n.c(),l=be(),this.c=M},m(r,o){i&&i.m(r,o),v(r,e,o),n&&n.m(r,o),v(r,l,o)},p(r,[o]){r[4]?i?i.p(r,o):(i=ne(r),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),r[5].length?n?n.p(r,o):(n=re(r),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i:M,o:M,d(r){i&&i.d(r),r&&y(e),n&&n.d(r),r&&y(l)}}}function Me(t,e,l){let{baseurl:i=""}=e,{title:n=""}=e,{maxlength:r=!1}=e,{tags:o=""}=e,{places:f=""}=e,{blob:a=""}=e,{theme:c="light"}=e,{sidebar:x="true"}=e,{external_style:g=""}=e,p=!1,j=[];function w(){if(!p)return;const u=[];r&&u.push(`max=${r}`),a&&fetch(`${i}/api/cohorts?${u.join("&")}`).then(N=>N.json()).then(N=>{l(5,j=N)}).catch(N=>{console.error("Error loading Blob API -> ",N)})}return ve(()=>{p=!0,w()}),t.$$set=u=>{"baseurl"in u&&l(0,i=u.baseurl),"title"in u&&l(1,n=u.title),"maxlength"in u&&l(6,r=u.maxlength),"tags"in u&&l(7,o=u.tags),"places"in u&&l(8,f=u.places),"blob"in u&&l(9,a=u.blob),"theme"in u&&l(2,c=u.theme),"sidebar"in u&&l(3,x=u.sidebar),"external_style"in u&&l(4,g=u.external_style)},t.$$.update=()=>{t.$$.dirty&462&&w(r&&n&&f&&o&&c&&show_recurrent&&x)},[i,n,c,x,g,j,r,o,f,a]}class Oe extends he{constructor(e){super(),this.shadowRoot.innerHTML=`<style>#blobShare{font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
      "Noto Color Emoji";overflow-x:hidden;width:100%;box-sizing:content-box;margin:0 auto;font-size:1rem;text-align:left}.nosidebar{max-width:1200px}#header{padding:1.2rem 1rem;background-color:var(--bg-odd-color)}.sidebar{max-width:500px;box-shadow:rgba(60, 64, 67, 0.4) 0px 1px 2px 0px,
      rgba(60, 64, 67, 0.25) 0px 1px 3px 1px;border-radius:5px;font-size:1rem}.item .img{width:100%;max-width:450px;max-height:250px;aspect-ratio:1.7778;flex:1 0 auto}@media screen and (max-width: 800px){.item{flex-wrap:wrap}.item .img{max-width:100%}}.item img{object-fit:cover;border-radius:15px;width:100%;height:100%;box-shadow:rgba(50, 50, 93, 0.25) 0px 6px 12px -2px,
      rgba(0, 0, 0, 0.3) 0px 3px 7px -3px}.nosidebar .item{margin-bottom:2rem}.nosidebar .content{margin-left:1rem;margin-top:5px;text-align:left}.tags{margin-top:2px}#logo{position:absolute;top:10px;right:10px;height:40px}a{text-decoration:none;color:var(--text-color);display:flex;padding:8px 20px;margin:0;line-height:1.275rem;font-weight:400;font-size:0.875rem;position:relative;transition:background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1),
      padding 0.3s;box-sizing:content-box}a:hover .title,a:focus .title,a:active .title{text-decoration:underline}.dark{--bg-odd-color:#161616;--bg-even-color:#222;--bg-hover-color:#333;--text-color:white;--title-color:white;--line-color:rgba(120, 120, 120, 0.2)}.light{--bg-odd-color:#f5f5f5;--bg-even-color:#fafafa;--bg-hover-color:#eee;--text-color:#222;--title-color:black;--line-color:rgba(220, 220, 220, 0.9)}.sidebar a{background-color:var(--bg-even-color);border-bottom:1px solid var(--line-color)}.sidebar a:hover,.sidebar a:focus,.sidebar a:active{background-color:var(--bg-hover-color);padding-left:15px;padding-right:25px}.place{font-weight:400;font-size:1.2rem;line-height:1.4rem;color:orangered}.title{color:var(--title-color);font-weight:bold;font-size:1.3rem;line-height:1.1em}.nosidebar .title{font-size:1.9em;line-height:1.1em}.subtitle{font-size:1rem;line-height:1.1em;color:var(--title-color);opacity:0.9}.tag{margin-right:10px;display:inline-block}</style>`,Le(this,{target:this.shadowRoot,props:pe(this.attributes),customElement:!0},Me,Ce,me,{baseurl:0,title:1,maxlength:6,tags:7,places:8,blob:9,theme:2,sidebar:3,external_style:4},null),e&&(e.target&&v(e.target,this,e.anchor),e.props&&(this.$set(e.props),k()))}static get observedAttributes(){return["baseurl","title","maxlength","tags","places","blob","theme","sidebar","external_style"]}get baseurl(){return this.$$.ctx[0]}set baseurl(e){this.$$set({baseurl:e}),k()}get title(){return this.$$.ctx[1]}set title(e){this.$$set({title:e}),k()}get maxlength(){return this.$$.ctx[6]}set maxlength(e){this.$$set({maxlength:e}),k()}get tags(){return this.$$.ctx[7]}set tags(e){this.$$set({tags:e}),k()}get places(){return this.$$.ctx[8]}set places(e){this.$$set({places:e}),k()}get blob(){return this.$$.ctx[9]}set blob(e){this.$$set({blob:e}),k()}get theme(){return this.$$.ctx[2]}set theme(e){this.$$set({theme:e}),k()}get sidebar(){return this.$$.ctx[3]}set sidebar(e){this.$$set({sidebar:e}),k()}get external_style(){return this.$$.ctx[4]}set external_style(e){this.$$set({external_style:e}),k()}}customElements.define("blob-share",Oe);
